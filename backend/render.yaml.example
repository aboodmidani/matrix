services:
  - type: web
    name: web-security-matrix-backend
    runtime: python3
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port $PORT --workers 2
    envVars:
      - key: ENVIRONMENT
        value: production
      - key: CORS_ORIGINS
        value: https://your-netlify-site.netlify.app  # Replace with your Netlify frontend URL
      - key: SECRET_KEY
        generateValue: true
      - key: DEBUG
        value: false

# Health check configuration
healthCheckPath: /

# Environment variables that can be set in Render dashboard
# CORS_ORIGINS: Your Netlify frontend URL (e.g., https://your-app.netlify.app)
# SECRET_KEY: Auto-generated or set manually
# ENVIRONMENT: production
# DEBUG: false
